# Concepts
## Data Model
 
프로메테우스는 근본적으로 모든 데이터를 시계열로 저장한다.      
시계열은 동일한 메트릭과 동일한 레이블을 가진 차원 셋에 속하는 값들의 시간 상의 흐름을 나타낸다.      
이렇게 저장하는 시계열 데이터 외에도, 프로메테우스는 쿼리로 만들어지는 파생 시계열을 임시로 생성할 수도 있다.  

### Metric names labels   

모든 시계열은 `메트릭 이름`과, `레이블`이라 부르는 생략 가능한 키/값 쌍들로 고유하게 식별할 수 있다.       

**메트릭 이름**
* 시스템에서 측정할 전반적인 특성을 명명한다.
    * 예: http_requests_total - HTTP 요청을 수신한 총 횟수  
* 메트릭 이름에는 ASCII 문자와 숫자, 밑줄, 콜론을 사용할 수 있으며 반드시 정규식`[a-zA-Z_:][a-zA-Z0-9_:]*`과 매칭되어야 한다.   
* 단, 콜론은 사용자가 정의하는 recording rule 용으로 예약되어있어 익스포터/직접계층 사용 불가능하다.   
* 
  
**레이블**   
* 메트릭 이름이 같을 땐, 레이블의 조합으로 특정한 차원에 속하는 실제 지표를 식별한다.
    * 예: /api/tracks 핸들러에 POST로 보낸 모든 HTTP 요청등 
    * 쿼리 언어는 이 차원을 기반으로 데이터를 필터링하고 집계한다.   
* 레이블 값을 변경하면 새 시계열 데이터가 생성된다.(레이블을 추가하거나 제거할 때도 마찬가지다.) 
* 레이블 '이름'에는 ASCII 문자와, 숫자, 밑줄을 사용할 수 있으며 반드시 정규식 `[a-zA-Z_:][a-zA-Z0-9_:]*`와 매칭되어야 한다.    
* `__`로 시작하는 레이블은 내부용도로 예약되어 있다.   
* 레이블 '값'에는 모든 유니코드 문자를 사용할 수 있다.   
* 레이블 값이 비어 있으면 존재하지 않는 레이블과 동일하게 취급한다.   

메트릭과 레이블 이름에 대한 [베스트 프랙티스](https://godekdls.github.io/Prometheus/practices.naming/)   

### Samples 

샘플들이 모여 실제 시계열 데이터를 형성한다.   
각 샘플은 다음과 같이 구성된다.  

* float64 값 하나 
* 밀리세컨드 단위 타임스탬프 하나 


### Notation

메트릭 이름과 레이블 셋이 있을 땐, 흔히 아래와 같은 표기법을 통해 시계열 데이터를 식별한다.   

```
<metric name>{<label name>=<label value>, ...}
```

메트릭 이름이 `api_http_request_total`이고,    
`metho="POST"`, `handler="/messages`를 레이블로 가지고 있는 시계열은 다음과 같이 작성할 수 있다.   

```
api_http_requests_total{method="POST", handler="/messages"}. 
``` 
이 표기법은 [OpenTSDB](http://opentsdb.net/) 에서 사용하는 것과 같은 표기법이다.    

## Metric Types   

## Jobs and Instances


